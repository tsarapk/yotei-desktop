<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:YoteiTasks.ViewModels"
             xmlns:models="clr-namespace:YoteiTasks.Models"
             mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="600"
             x:Class="YoteiTasks.Views.RecurringTaskConfigView"
             x:DataType="viewModels:RecurringTaskConfigViewModel"
             Background="#1E1E1E"
             Padding="20">
    
    <Border Background="#252526" 
            BorderBrush="#3F3F46" 
            BorderThickness="1" 
            CornerRadius="8"
            Padding="20"
            MaxWidth="500">
        <StackPanel Spacing="20">
            
            <!-- Header -->
            <StackPanel Spacing="5">
                <TextBlock Text="‚è∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" 
                           FontSize="18" 
                           FontWeight="Bold" 
                           Foreground="White" />
                <TextBlock Text="{Binding TaskName}" 
                           FontSize="14" 
                           Foreground="#888" />
            </StackPanel>

            <Separator Background="#3F3F46" />

            <!-- Recurrence Type -->
            <StackPanel Spacing="8">
                <TextBlock Text="–¢–∏–ø –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="White" />
                <ComboBox SelectedItem="{Binding RecurrenceType, Mode=TwoWay}"
                          HorizontalAlignment="Stretch">
                    <ComboBox.Items>
                        <models:RecurrenceType>None</models:RecurrenceType>
                        <models:RecurrenceType>Minutes</models:RecurrenceType>
                        <models:RecurrenceType>Hours</models:RecurrenceType>
                        <models:RecurrenceType>Daily</models:RecurrenceType>
                        <models:RecurrenceType>Weekly</models:RecurrenceType>
                        <models:RecurrenceType>Monthly</models:RecurrenceType>
                    </ComboBox.Items>
                </ComboBox>
                <TextBlock FontSize="11" Foreground="#666">
                    <Run Text="‚Ä¢ None - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è" />
                    <LineBreak />
                    <Run Text="‚Ä¢ Minutes/Hours - –∫–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤" />
                    <LineBreak />
                    <Run Text="‚Ä¢ Daily/Weekly/Monthly - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü" />
                </TextBlock>
            </StackPanel>

            <!-- Interval -->
            <StackPanel Spacing="8" IsVisible="{Binding ShowInterval}">
                <TextBlock Text="{Binding IntervalLabel}" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="White" />
                <NumericUpDown Value="{Binding Interval, Mode=TwoWay}"
                               Minimum="1"
                               Maximum="999"
                               HorizontalAlignment="Stretch" />
            </StackPanel>

            <Separator Background="#3F3F46" IsVisible="{Binding IsRecurring}" />

            <!-- Auto Reset -->
            <StackPanel Spacing="8" IsVisible="{Binding IsRecurring}">
                <CheckBox IsChecked="{Binding AutoReset, Mode=TwoWay}"
                          Content="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ"
                          Foreground="White" />
                <TextBlock FontSize="11" Foreground="#666" TextWrapping="Wrap">
                    –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –∑–∞–¥–∞—á–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                </TextBlock>
            </StackPanel>

            <!-- Auto Reset Delay -->
            <StackPanel Spacing="8" IsVisible="{Binding ShowAutoResetDelay}">
                <TextBlock Text="–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–±—Ä–æ—Å–æ–º (–º–∏–Ω—É—Ç—ã):" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="White" />
                <NumericUpDown Value="{Binding AutoResetDelayMinutes, Mode=TwoWay}"
                               Minimum="1"
                               Maximum="1440"
                               HorizontalAlignment="Stretch" />
                <TextBlock FontSize="11" Foreground="#666">
                    –ù–∞–ø—Ä–∏–º–µ—Ä: 5 –º–∏–Ω—É—Ç - –∑–∞–¥–∞—á–∞ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                </TextBlock>
            </StackPanel>

            <Separator Background="#3F3F46" />

            <!-- Notifications -->
            <StackPanel Spacing="8">
                <CheckBox IsChecked="{Binding NotificationsEnabled, Mode=TwoWay}"
                          Content="–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
                          Foreground="White" />
                <TextBlock FontSize="11" Foreground="#666" TextWrapping="Wrap">
                    –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
                </TextBlock>
            </StackPanel>

            <!-- Notification Advance -->
            <StackPanel Spacing="8" IsVisible="{Binding ShowNotificationAdvance}">
                <TextBlock Text="–£–≤–µ–¥–æ–º–ª—è—Ç—å –∑–∞—Ä–∞–Ω–µ–µ (–º–∏–Ω—É—Ç—ã, 0 = –≤ —Å—Ä–æ–∫):" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="White" />
                <NumericUpDown Value="{Binding NotificationAdvanceMinutes, Mode=TwoWay}"
                               Minimum="0"
                               Maximum="1440"
                               HorizontalAlignment="Stretch" />
                <TextBlock FontSize="11" Foreground="#666">
                    0 - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç —Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                </TextBlock>
            </StackPanel>

            <Separator Background="#3F3F46" />

            <!-- Buttons -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                <Button Grid.Column="0"
                        Content="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
                        Command="{Binding SaveCommand}"
                        HorizontalAlignment="Stretch"
                        Background="#0E639C"
                        Foreground="White"
                        Padding="15,8" />
                <Button Grid.Column="1"
                        Content="–û—Ç–º–µ–Ω–∞"
                        Command="{Binding CancelCommand}"
                        HorizontalAlignment="Stretch"
                        Padding="15,8" />
            </Grid>

            <!-- Examples -->
            <Border Background="#2D2D30" 
                    Padding="12" 
                    CornerRadius="6"
                    IsVisible="{Binding IsRecurring}">
                <StackPanel Spacing="8">
                    <TextBlock Text="üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:" 
                               FontSize="12" 
                               FontWeight="SemiBold"
                               Foreground="#FF9800" />
                    <TextBlock FontSize="11" Foreground="#AAA" TextWrapping="Wrap">
                        <Run Text="‚Ä¢ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: Daily, –∏–Ω—Ç–µ—Ä–≤–∞–ª 1" />
                        <LineBreak />
                        <Run Text="‚Ä¢ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç: Minutes, –∏–Ω—Ç–µ—Ä–≤–∞–ª 5" />
                        <LineBreak />
                        <Run Text="‚Ä¢ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ —Å –∞–≤—Ç–æ—Å–±—Ä–æ—Å–æ–º: Weekly, –∏–Ω—Ç–µ—Ä–≤–∞–ª 1, –∞–≤—Ç–æ—Å–±—Ä–æ—Å —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç" />
                        <LineBreak />
                        <Run Text="‚Ä¢ –ó–∞–¥–∞—á–∞ —Ä–∞–∑ –≤ 2 —á–∞—Å–∞: Hours, –∏–Ω—Ç–µ—Ä–≤–∞–ª 2" />
                    </TextBlock>
                </StackPanel>
            </Border>
        </StackPanel>
    </Border>
</UserControl>
